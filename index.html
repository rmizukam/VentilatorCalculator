<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ventilator Adjustment Calculcator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <div class="patient-inputs">
        <table>
            <thead>
                <tr>
                    <th colspan="3" class="table-title">Patient Inputs</th>
                </tr>
                <tr>
                    <th>Input Name</th>
                    <th>Value</th>
                    <th>Unit</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Height</td>
                    <td><input type="number" id="pi_height_input" value="0" oninput="calculatePVS()" onfocus="selectOnFocus(this)"></td>
                    <td>
                        <select id="pi_height_unit" onchange="calculatePVS()">
                            <option value="in" selected>in</option>
                            <option value="cm">cm</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Weight</td>
                    <td><input type="number" id="pi_weight_input" value="0" oninput="calculatePVS()" onfocus="selectOnFocus(this)"></td>
                    <td>
                        <select id="pi_weight_unit" onchange="calculatePVS()">
                            <option value="kg" selected>kg</option>
                            <option value="lb">lb</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Gender (M/F)</td>
                    <td colspan="2">
                        <select id="pi_gender_unit" onchange="calculatePVS()">
                            <option value="M" selected>M</option>
                            <option value="F">F</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
        <table>
            <thead>
                <tr>
                    <th colspan="4">Tidal Volume Selection</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <div class="tv-option-container">
                            <div class="tv-radio-label">
                                <input type="radio" id="tv-option-1" name="choice" value="tvoption1" onchange="calculatePVS()">
                                <label for="tv-option-1">6 ml/kg</label>
                            </div>
                            <div class="tv-value-unit">
                                <input type="text" id="tv-value-1" name="tvvalue1" readonly class="tv-value-input">
                                <span class="tv-unit-text">mL</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="tv-option-container">
                            <div class="tv-radio-label">
                                <input type="radio" id="tv-option-2" name="choice" value="tvoption2" onchange="calculatePVS()">
                                <label for="tv-option-2">7 ml/kg</label>
                            </div>
                            <div class="tv-value-unit">
                                <input type="text" id="tv-value-2" name="tvvalue2" readonly>
                                <span class="tv-unit-text">mL</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="tv-option-container">
                            <div class="tv-radio-label">
                                <input type="radio" id="tv-option-3" name="choice" value="tvoption3" onchange="calculatePVS()">
                                <label for="tv-option-3">8 ml/kg</label>
                            </div>
                            <div class="tv-value-unit">
                                <input type="text" id="tv-value-3" name="tvvalue3" readonly>
                                <span class="tv-unit-text">mL</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="tv-option-container">
                            <div class="tv-radio-label">
                                <input type="radio" id="tv-option-4" name="choice" value="tvoption4" onchange="calculatePVS()" onfocus="selectOnFocus(this)">
                                <label for="tv-option-4">Custom</label>
                            </div>
                            <div class="tv-value-unit">
                                <input type="number" id="tv-value-4" name="tvvalue4">
                                <span class="tv-unit-text">mL</span>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="grouped-calculations">
        <table>
            <thead>
                <tr>
                    <th colspan="3" class="table-title">Predicted Ventilator Settings</th>
                </tr>
                <tr>
                    <th>Parameter Name</th>
                    <th>Value</th>
                    <th>Unit</th>
                </tr>
            </thead>
            <tbody>
                <tr class="result-row">
                    <td>BSA</td>
                    <td id="pr-bsa">0.00</td>
                    <td>m<sup>2</sup></td>
                </tr>
                <tr class="result-row">
                    <td>Minute Ventilation</td>
                    <td id="pr-mv">0.00</td>
                    <td>L/min</td>
                </tr>
                <tr class="result-row">
                    <td>Respiratory Rate</td>
                    <td id="pr-rr">0.00</td>
                    <td>breaths/min</td>
                </tr>
            </tbody>
        </table>
    </div> 

    <table>
        <thead>
            <tr>
                <th colspan="2" class="table-title">Adjustment 1: Repiratory Rate</th> 
            </tr>
            <tr>
                <th>Variable Name</th>
                <th>Value (Input)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Current Respiratory Rate (breaths/min)</td>
                <td><input type="number" id="curr-rr-input" value="0" oninput="calculateRRAdjustment()" onfocus="selectOnFocus(this)"></td>
            </tr>
            <tr>
                <td>Current PaCO<sub>2</sub> (mmHg)</td> 
                <td><input type="number" id="curr-pac02-rr" value="0" oninput="calculateRRAdjustment()" onfocus="selectOnFocus(this)"></td>
            </tr>
            <tr>
                <td>Desired PaCO<sub>2</sub> (mmHg)</td> 
                <td><input type="number" id="desired-pac02-rr" value="0" oninput="calculateRRAdjustment()" onfocus="selectOnFocus(this)"></td>
            </tr>
            <tr class="result-row">
                <td>Adjusted Respiratory Rate (breaths/min)</td>
                <td id="result-adjusted-rr" >0.00</td> </tr>
        </tbody>
    </table>

    <table>
        <thead>
            <tr>
                <th colspan="3" class="table-title">Adjustment 2: Tidal Volume</th> 
            </tr>
            <tr>
                <th>Variable Name</th>
                <th colspan="2">Value (Input)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Current Tidal Volume </td>
                <td><input type="number" id="curr-tv-input" value="0" oninput="calculateTVAdjustment()" onfocus="selectOnFocus(this)"></td>
                <td>
                    <select id="tidal-volume-unit-adj-in" onchange="calculateTVAdjustment()">
                        <option value="mL" selected>mL</option>
                        <option value="L">L</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Current PaCO<sub>2</sub> (mmHg)</td> 
                <td colspan="2"><input type="number" id="curr-pac02-tv" value="0" oninput="calculateTVAdjustment()" onfocus="selectOnFocus(this)"></td>
            </tr>
            <tr>
                <td>Desired PaCO<sub>2</sub> (mmHg)</td> 
                <td colspan="2"><input type="number" id="desired-pac02-tv" value="0" oninput="calculateTVAdjustment()" onfocus="selectOnFocus(this)"></td>
            </tr>
            <tr class="result-row">
                <td>Adjusted Tidal Volume</td>
                <td id="result-adjusted-tv" >0.00</td>
                <td>
                    <select id="tidal-volume-unit-adj-out" onchange="calculateTVAdjustment()">
                        <option value="mL" selected>mL</option>
                        <option value="L">L</option>
                    </select>
                </td>
            </tr>
        </tbody>
    </table>

    <script src="script.js"></script>
</body>
</html>